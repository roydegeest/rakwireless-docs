(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{405:function(e,n,t){"use strict";t.r(n);var a=t(29),i=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"openvpn-management-client-set-up"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openvpn-management-client-set-up"}},[e._v("#")]),e._v(" OpenVPN Management Client Set-up")]),e._v(" "),t("hr"),e._v(" "),t("ol",[t("li",[e._v("Generate the OpenVPN Server client certificate.")])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("üìù NOTE")]),e._v(" "),t("p",[e._v("Management is used as the name for the client PC.")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cd /etc/openvpn/easyrsa\n# ./easyrsa build-client-full <client_name> nopass\nsudo ./easyrsa build-client-full managment nopass\n\n# Update certificate control file\nsudo ./easyrsa gen-crl\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Create the OpenVPN Client profile file.")])]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("üìù NOTE")]),e._v(" "),t("p",[e._v("Listed below are the configuration file and its corresponding names:")]),e._v(" "),t("ul",[t("li",[e._v("{ca} = CA certificate")]),e._v(" "),t("li",[e._v("{cert} = Client certificate")]),e._v(" "),t("li",[e._v("{key} = Client secret key")])])]),e._v(" "),t("p",[t("strong",[e._v("Certificate Locations")])]),e._v(" "),t("ul",[t("li",[e._v("The CA certificate is located in:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/etc/openvpn/easyrsa/pki/ca.crt\n")])])]),t("ul",[t("li",[e._v("The Client certificate together with the Client secret key generated in the Client certificate section:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/etc/openvpn/easyrsa/issued/{client_name}.crt\n")])])]),t("ul",[t("li",[e._v("Client secret key:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/etc/openvpn/easyrsa/private/{client_name}.key\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Open a text editor in your PC and copy the following template:")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("dev tap\nclient\nremote 123.56.96.211 1194\nproto udp\nnobind\nresolv-retry infinite\n\npersist-key\npersist-tun\n\nremote-cert-tls server\n\ncomp-lzo\nverb 3\n\n# copy from openvpn-server /etc/openvpn/easyrsa/pki/ca.crt\n<ca>\n-----BEGIN CERTIFICATE-----\nMIIDNTCCAh2gAwIBAgIJANYEjCM+cqsxMA0GCSqGSIb3DQEBCwUAMBYxFDASBgNV\nBAMMC1JBS1dpcmVsZXNzMB4XDTE5MTEyNTAxMzIyOVoXDTI5MTEyMjAxMzIyOVow\nFjEUMBIGA1UEAwwLUkFLV2lyZWxlc3MwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\nggEKAoIBAQDZS/8PCehr3TSTvidQLFVYT5EydKDVidEUm6/yOE0BZs99kZKGn6eF\nmFQnBfve4mAHzPnC3amiuCh+01kf97P7MDpS/cYTdR9RB9Xng/jyBQqMVVHLbwoG\nIS7mQmBpV0NdU8RYKsLCARPn50eRGiL2AS6cPDSjrrj2xsBEydTsjE/95gJ7AvWQ\nRPRoVTI9S31mY6tLrs16zydtEXWicDVaRFkvultijCmCiUhfaDE8lt1dQxd5jkvw\ncHtm1EBdHjyce7oXa+Og0p2c5EmTb1K2pjHZHG0jINv9lErC049g/ey7CcddDd+Q\nBm7fqArIaov7kk+U7zKhBrTVH3dmPWEHAgMBAAGjgYUwgYIwHQYDVR0OBBYEFLd+\neVD4IqyA84ABBeFupjEV0+bOMEYGA1UdIwQ/MD2AFLd+eVD4IqyA84ABBeFupjEV\n0+bOoRqkGDAWMRQwEgYDVQQDDAtSQUtXaXJlbGVzc4IJANYEjCM+cqsxMAwGA1Ud\nEwQFMAMBAf8wCwYDVR0PBAQDAgEGMA0GCSqGSIb3DQEBCwUAA4IBAQABFT6ZgK7Y\ntM5tZEfEKSCMUxfESJ+4pPN2lryZVskXtD6BfjvKkQpj3A+R6MRNloOPvZ4spAvH\n5fFvfI97Ts40rQjWpgPLQDEBcgBi6dzzmMSap/iw9wLtgqWFVm+LXPMHQnqBKfs2\nHksTlKOhiKZlvtGYfxay6kbMU35LX8WdRxx8JNvRNIDL68lLdreXB7vTKQYAvcKP\no1GuZFqKV2KFxpjxzLg1BeM3U4X5k4xDQDaOHENKJO4pdWBfMLP3AAyC9wq481PO\nhgA1R8ZAt+psYxOAB6O3A1SzDJ/df5ciPdsp1Kia0HCB2cGIZ7ZwfzPDNivH8/bT\nn7UOb+khvmsD\n-----END CERTIFICATE-----\n</ca>\n\n# Client certificate PEM\n# Copy from server /etc/openvpn/easyrsa/pki/issued/managment.crt\n# \n\n<cert>\n\n-----BEGIN CERTIFICATE-----\nMIIDTzCCAjegAwIBAgIQVm22YDcNRRzycbFHSEkkFjANBgkqhkiG9w0BAQsFADAW\nMRQwEgYDVQQDDAtSQUtXaXJlbGVzczAeFw0yMDAyMDUwMjI5MzZaFw0yMzAxMjAw\nMjI5MzZaMBcxFTATBgNVBAMMDFJBSzcyNThfNjY2NjCCASIwDQYJKoZIhvcNAQEB\nBQADggEPADCCAQoCggEBAK53T6vlbm4xVgM5z8fC6ul5WsdT3gfEGEOKu0MWcxq4\nYP0jrhXAwJV20EdUXYiFIOdf9woYvv8ANTFYHIBAT+jZrGhbhph7QSzmb1xzc3g/\nnGJVJAW7L10EmQ0mSsi64NTv/8Ou7wZQpqd8+FuIjDbMFJMP24GbqswG6nnhJCST\n1b1hfAgijK/dagRFJTcYhJcutwJrpUjhdAwVBG/GuXQwyI82WXzpqvVyfPgCb4Ek\n9ehHuA1Zsmgp68ChGFM+WrEZ1sETDlxlNAfsON7hihf3xYZ2iZ/6rq5RpUczJm3P\n9dxO74I8/dxe9TnNcIvqasxGg3jZW4UvQyATqnb+z5kCAwEAAaOBlzCBlDAJBgNV\nHRMEAjAAMB0GA1UdDgQWBBRQkqjMkMV4u8R0EKDDG08qjxJb4TBGBgNVHSMEPzA9\ngBS3fnlQ+CKsgPOAAQXhbqYxFdPmzqEapBgwFjEUMBIGA1UEAwwLUkFLV2lyZWxl\nc3OCCQDWBIwjPnK67dATBgNVHSUEDDAKBggrBgEFBQcDAjALBgNVHQ8EBAMCB4Aw\nDQYJKoZIhvcNAQELBQADggEBAGDGH6+b1EGkVj//EDyJUBISWWcXC8EwmrT25Tga\nWDid21QQatQahriVOFHu0B7DGSJb6kw4Om8Mz+kef1v529VIip56wP4I7aVQdcTg\nSoVBCc0ToXxGO+EXPWc0jBwPReofMzYeaZ+hZcSHeFOYAso5aFSMfk5Z7qwYQfaj\nZQ7AdTj2NcxH92bIv7JUzW6Xh8OcTuTzQd4J2dtJr4ObnRkYrqg27dzlV1dz73hJ\nJIs7AXUH4wivehV3VGd95am6ejs4Hedhaw23h+pV91LmG4gdb6EPHm0JPCHbaQAb\nJzF75JEh0CLOlDFBK419Dgg10n0gqLkSTcp+CzNlCx7k+24=\n-----END CERTIFICATE-----\n</cert>\n\n# Client key PEM\n# Copy from server /etc/openvpn/easyrsa/pki/private/managment.key\n#\n<key>\n-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCud0+r5W5uMVYD\nOc/HwurpeVrHU94HxBhDirtDFnMauGD9I64VwMCVdtBHVF2IhSDnX/cKGL7/ADUx\nWByAQE/o2axoW4aYe0Es5m9cc3N4P5xiVSQFuy9dBJkNJkrIuuDU7//Dru8GUKan\nfPhbiIw2zBSTD9uBm6rMBup54SQkk9W9YXwIIoyv3WoERSU3GISXLrcCa6VI4XQM\nFQRvxrl0MMiPNll86ar1cnz4Am+BJPXoR7gNWbJoKevAoRhTPlqxGdbBEw5cZTQH\n7Dje4YoX98WGdomf+q6uUaVH11Ztz/XcTu+CPP3cXvU5zXCL6iIMRoN42VuFL0Mg\nE6p2/s+ZAgMBAAECggEAGGwPNQra2IYDelQfZ+E7LQ+Vy41L6V5j3yCOcie0WSsy\nOH1EIztmOgX1xeZjaXbpUjo2xK0OH3gR+iRRaQqXpQrDfaBCSRoH15cyQ4jNwyl0\nZLdyYXMAgE7iddrEYTD3xBcMgIH+Z63mhk+SHI4SwqDyyFtR6OS3lfPp4sHHY28r\nFJPXW7a10M+pxjEX+A8m3UM4VJiLy2YeklB7laJkQjHcA/Gh+sh/0NjZwCYyWWAi\nirATLDSa3z6N7yr3xAO/J4vEZVaGxyyJRvR4qmr0xE15xyCfQQcWdw1DpGT9uBk/\n4z/1Tq2sJUekzYebeENliJY3ADVsVS0JszRRHCYwGQKBgQDhRlwvrjvRP8ZCd9th\nssKXgkJBUSqxp8VvFtylMKy2koNq6S2S3yiGmiNWd7JxdGk+77MGmA8kTdpORMcN\nL9xSLMWiuMLHGEYf79TkON0ZBqN/wwuPttJG8ICWhqAjL+dDcLoqz8j4dO6FwKPo\nz+fVjVupXgYKfqLpm9SAD1apewKBgQDGQuyhzv0Ru7o29MDg5YZ0dwj9bV1KzlFf\n3DAdcX+k4Z48R50e5VhewIedA3eafy+UER63CAWLQru96sbRoGkk8aKBk9AGJPFb\ni4NVWWaiUA2A2WVUKkdIQsNrr2xHBTwiFPftTxWRWUT1DKgF+uHvSzBKfn13PReS\nKCjxzPis+wKBgQDVeW9yX5GfwOeHpTznYBa2rGFMtDXZFDssAmYkw/NnL4AJl93w\nCDjHFNnX3qXijYYOdecYoI/4vy3YbaSTAn+t/29pu9wX/xC0wvjjLF+Yj4nwUExs\na7roLpAsFHc74PEuH2zLlQvFJknBxcONozb2T3ZFESx4VXjcFydQEzj0cQKBgANq\nWbs73p40lrOlqcD2E0fkWRJMlQPZ5Ar7txR6xREpFdnB/hHvL4OKW4u36JKPyFkL\npnTOvZG1l5hg+AXadpU9WGhVDItejY3fLGcHAD6hlGn41McLZ2j2RXmQbxQWIgAQ\nTmkXKK71U7vI+QgJV2UQ7YcLAMxSEBrjeDkaJ9qLAoGAEiSjuv5X0PbZpiyH6/GX\nYuMhFYWZnk/IwoxQW4alBIRuI7EQ+fLvrFUxikMOIsLKtKrcVLjJBgFSz4hIE9YE\nYnaQ5Vx+RMzTwakRJtPook55pS1HpdK7Y/0oiUOsJGCEzVj8P/e/WrhFqWPGalIJ\nENCGBuhos/YdITFeKQ381zk=\n-----END PRIVATE KEY-----\n</key>\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("Change the remote IP address with your Amazon Instance Public IP. Add each certificate in its corresponding section by copying the content from the locations mentioned above and replace the corresponding section in the template.")])]),e._v(" "),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/aws-instance-public-ip.png",width:"100%","figure-number":"1",caption:"AWS Instance Public IP"}}),e._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("p",[e._v("Save the file with a name: "),t("strong",[e._v("management_client.ovpn")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("OpenVPN PC client.")])])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Download the "),t("a",{attrs:{href:"https://openvpn.net/community-downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenVPN Client"),t("OutboundLink")],1),e._v(" and install.")])]),e._v(" "),t("li",[t("p",[e._v("Start the OpenVPN GUI Client. You will see an icon in the taskbar.")])])]),e._v(" "),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/open-vpn-taskbar-icon.png",width:"75%","figure-number":"2",caption:"Open VPN Taskbar Icon"}}),e._v(" "),t("ul",[t("li",[e._v("Right click Import file and open management_client.ovpn file.")])]),e._v(" "),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/importing-openvpn-client-file.png",width:"100%","figure-number":"3",caption:"Importing OpenVPN Client File"}}),e._v(" "),t("ul",[t("li",[e._v("Make sure to go into the OpenVPN menu again and press Connect (it will not initiate automatically).")])]),e._v(" "),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/open-vpn-connection-initiation.png",width:"50%","figure-number":"4",caption:"Open VPN Connection initiation"}}),e._v(" "),t("p",[e._v("If everything is set up properly, a connection log window will disappear after the procedure runs through. Refer to Figure 5.")]),e._v(" "),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/open-vpn-connection-log2.png",width:"50%","figure-number":"5",caption:"Open VPN Connection log"}}),e._v(" "),t("p",[e._v("The OpenVPN should now be in green, see Figure 6, meaning the connection is successful. You can check which clients are currently connected to the OpenVPN Server and their corresponding IP addresses by executing the following command in your Ubuntu console:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo nano /etc/openvpn/server/ip_pool.txt \n")])])]),t("rk-img",{attrs:{src:"/assets/images/deployment-guide/gateway-remote-management-openvpn/open-vpn-connected-clients1.png",width:"100%","figure-number":"6",caption:"Open VPN connected clients 1"}}),e._v(" "),t("p",[e._v("There should be only one client available and its IP address is visible now. This one client is the PC connected to the OpenVPN Server. Later, the Gateway also should be visible.")])],1)}),[],!1,null,null,null);n.default=i.exports}}]);